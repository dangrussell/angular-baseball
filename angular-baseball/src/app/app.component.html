<div class="app">
  <div style="text-align:center;">
    <h1 *ngIf="title">{{ title }}</h1>

    <div>
      <button (click)="pitch()">Pitch</button> <button (click)="pitches(100)">100 Pitches</button> <button (click)="resetgame()">New Game</button>
    </div>
    <div class="plate">
      <svg width="400" height="400" version="1.1" xmlns="http://www.w3.org/2000/svg">
        <svg:polygon points="5,5 395,5 395,200 200,395 5,200" stroke="black" fill="white" stroke-width="5" />
        <svg:foreignObject x="10" y="10" width="390" height="200">
          <xhtml:p *ngIf="game.pitches" class="result" xmlns="http://www.w3.org/1999/xhtml" [innerHTML]="pitchOutput"></xhtml:p>
        </svg:foreignObject>
      </svg>
      <!--<p *ngIf="game.pitches" class="result" [innerHTML]="pitchOutput"></p>-->
    </div>

    <table class="scoreboard">
      <thead>
        <tr>
          <!--<th *ngFor="let inningHeads of game.innings; let inningHead = index">{{inningHead}}</th>-->
          <th *ngFor="let inningHeads of game.innings | slice:1"><ol><li></li></ol></th>
          <th>R</th>
          <th>H</th>
          <th>E</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td *ngFor="let inningTops of game.innings | slice:1">{{inningTops?.top?.runs}}</td>
          <td>{{game.teams.away.runs}}</td>
          <td>{{game.teams.away.hits}}</td>
          <td>{{game.teams.away.errors}}</td>
        </tr>
        <tr>
          <td *ngFor="let inningBots of game.innings | slice:1">{{inningBots?.bot?.runs}}</td>
          <td>{{game.teams.home.runs}}</td>
          <td>{{game.teams.home.hits}}</td>
          <td>{{game.teams.home.errors}}</td>
        </tr>
      </tbody>
    </table>

  </div>

  <div *ngIf="game.pitches">

    <div style="float:left;">
      <h4>The Count</h4>
      <p>Balls: <strong>{{pa.balls}}</strong></p>
      <p>Strikes: <strong>{{pa.strikes}}</strong></p>
    </div>
    <div style="float:right;">
      <h4>The Game</h4>
      <p *ngIf="game.pitches">Pitches: <strong>{{game.pitches}}</strong></p>
      <p *ngIf="game.BB">Walks: <strong>{{game.BB}}</strong></p>
      <p *ngIf="game.K">Strikeouts: <strong>{{game.K}}</strong></p>
      <p *ngIf="game.inplay">In Play: <strong>{{game.inplay}}</strong></p>
      <p *ngIf="game.hits">Hits: <strong>{{game.hits}}</strong></p>
      <p *ngIf="game.outs">Outs: <strong>{{game.outs}}</strong></p>
    </div>

  </div>

</div>

<router-outlet></router-outlet>
