<div class="app">
  <app-players></app-players>
  <div style="text-align:center;">
    <h1 *ngIf="varService.titleHTML" [innerHtml]="varService.titleHTML"></h1>

    <div *ngIf="showbuttons">
      <button class="btn btn-dark mr-2" (click)="pitch()">Pitch</button>
      <button class="btn btn-dark mr-2" (click)="pitches(100)">100 Pitches</button>
      <button class="btn btn-dark" onclick="location.reload();">New Game</button>
    </div>
    <div class="plate">
      <svg width="400" height="400" version="1.1" xmlns="http://www.w3.org/2000/svg">
        <svg:polygon points="5,5 395,5 395,200 200,395 5,200" stroke="black" fill="white" stroke-width="5" />
        <svg:foreignObject x="10" y="20" width="390" height="200">
          <xhtml:p *ngIf="gameService.game.pitches" class="result" xmlns="http://www.w3.org/1999/xhtml" [innerHTML]="pitchOutput"></xhtml:p>
        </svg:foreignObject>
        <svg:foreignObject x="167" y="260" width="60" height="80">
          <xhtml:p>
            B: {{pa.balls}}<xhtml:br />
            S: {{pa.strikes}}<xhtml:br />
            O: {{gameService.game.innings[gameService.game.inning][toporbot].outs}}
          </xhtml:p>
        </svg:foreignObject>
      </svg>
      <!--<p *ngIf="gameService.game.pitches" class="result" [innerHTML]="pitchOutput"></p>-->
    </div>

    <table class="table scoreboard">
      <thead>
        <tr>
          <!--<th *ngFor="let inningHeads of gameService.game.innings; let inningHead = index">{{inningHead}}</th>-->
          <th *ngFor="let inningHeads of gameService.game.innings | slice:1"><ol><li></li></ol></th>
          <th>R</th>
          <th>H</th>
          <th>E</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td *ngFor="let inningTops of gameService.game.innings | slice:1">{{inningTops?.top?.runs}}</td>
          <td class="font-weight-bold">{{gameService.game.teams.away.runs}}</td>
          <td class="font-weight-bold">{{gameService.game.teams.away.hits}}</td>
          <td class="font-weight-bold">{{gameService.game.teams.away.errors}}</td>
        </tr>
        <tr>
          <td *ngFor="let inningBots of gameService.game.innings | slice:1">{{inningBots?.bot?.runs}}</td>
          <td class="font-weight-bold">{{gameService.game.teams.home.runs}}</td>
          <td class="font-weight-bold">{{gameService.game.teams.home.hits}}</td>
          <td class="font-weight-bold">{{gameService.game.teams.home.errors}}</td>
        </tr>
      </tbody>
    </table>

  </div>
<!--
  <div *ngIf="gameService.game.pitches" class="row">

    <div class="col">
      <h4>The Count</h4>
      <p>Balls: <strong>{{pa.balls}}</strong></p>
      <p>Strikes: <strong>{{pa.strikes}}</strong></p>
    </div>
    <div class="col">
      <h4>The Game</h4>
      <p *ngIf="gameService.game.pitches">Pitches: <strong>{{gameService.game.pitches}}</strong></p>
      <p *ngIf="gameService.game.BB">Walks: <strong>{{gameService.game.BB}}</strong></p>
      <p *ngIf="gameService.game.K">Strikeouts: <strong>{{gameService.game.K}}</strong></p>
      <p *ngIf="gameService.game.inplay">In Play: <strong>{{gameService.game.inplay}}</strong></p>
      <p *ngIf="gameService.game.hits">Hits: <strong>{{gameService.game.hits}}</strong></p>
      <p *ngIf="gameService.game.outs">Outs: <strong>{{gameService.game.outs}}</strong></p>
    </div>

  </div>
-->
</div>

<router-outlet></router-outlet>
